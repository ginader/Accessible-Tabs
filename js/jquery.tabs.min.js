/* jQuery-Accessible-Tabs - v1.9.6.1
* http://github.com/ginader/Accessible-Tabs
* Copyright (c) 2013 Dirk Ginader;
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html */
(function(s){function t(s,t){i&&window.console&&window.console.log&&(t?window.console.log(t+": ",s):window.console.log(s))}var i=!0;s.fn.extend({getUniqueId:function(s,t,i){return i=void 0===i?"":"-"+i,s+t+i},accessibleTabs:function(i){var a={wrapperClass:"content",currentClass:"current",tabhead:"h4",tabheadClass:"tabhead",tabbody:".tabbody",fx:"show",fxspeed:"normal",currentInfoText:"current tab: ",currentInfoPosition:"prepend",currentInfoClass:"current-info",tabsListClass:"tabs-list",syncheights:!1,syncHeightMethodName:"syncHeight",cssClassAvailable:!1,saveState:!1,autoAnchor:!1,pagination:!1,position:"top",wrapInnerNavLinks:"",firstNavItemClass:"first",lastNavItemClass:"last",clearfixClass:"clearfix"},n={37:-1,38:-1,39:1,40:1},e={top:"prepend",bottom:"append"};this.options=s.extend(a,i);var o=0;void 0!==s("body").data("accessibleTabsCount")&&(o=s("body").data("accessibleTabsCount")),s("body").data("accessibleTabsCount",this.size()+o);var c=this;return this.each(function(i){var a=s(this),l="",r=0,d=[];s(a).wrapInner('<div class="'+c.options.wrapperClass+'"></div>'),s(a).find(c.options.tabhead).each(function(t){var a="";if(elId=s(this).attr("id")){if(0===elId.indexOf("accessibletabscontent"))return;a=' id="'+elId+'"'}var n=c.getUniqueId("accessibletabscontent",o+i,t),e=c.getUniqueId("accessibletabsnavigation",o+i,t);if(d.push(n),c.options.cssClassAvailable===!0){var p="";s(this).attr("class")&&(p=s(this).attr("class"),p=' class="'+p+'"'),l+='<li id="'+e+'"><a'+a+p+' href="#'+n+'">'+s(this).html()+"</a></li>"}else l+='<li id="'+e+'"><a'+a+' href="#'+n+'">'+s(this).html()+"</a></li>";s(this).attr({id:n,"class":c.options.tabheadClass,tabindex:"-1"}),r++}),c.options.syncheights&&s.fn[c.options.syncHeightMethodName]&&(s(a).find(c.options.tabbody)[c.options.syncHeightMethodName](),s(window).resize(function(){s(a).find(c.options.tabbody)[c.options.syncHeightMethodName]()}));var p="."+c.options.tabsListClass;s(a).find(p).length||s(a)[e[c.options.position]]('<ul class="'+c.options.clearfixClass+" "+c.options.tabsListClass+" tabamount"+r+'"></ul>'),s(a).find(p).append(l);var b=s(a).find(c.options.tabbody);if(b.length>0&&(s(b).hide(),s(b[0]).show()),s(a).find("ul."+c.options.tabsListClass+">li:first").addClass(c.options.currentClass).addClass(c.options.firstNavItemClass).find("a")[c.options.currentInfoPosition]('<span class="'+c.options.currentInfoClass+'">'+c.options.currentInfoText+"</span>").parents("ul."+c.options.tabsListClass).children("li:last").addClass(c.options.lastNavItemClass),c.options.wrapInnerNavLinks&&s(a).find("ul."+c.options.tabsListClass+">li>a").wrapInner(c.options.wrapInnerNavLinks),s(a).find("ul."+c.options.tabsListClass+">li>a").each(function(t){s(this).click(function(i){i.preventDefault(),a.trigger("showTab.accessibleTabs",[s(i.target)]),c.options.saveState&&s.cookie&&s.cookie("accessibletab_"+a.attr("id")+"_active",t),s(a).find("ul."+c.options.tabsListClass+">li."+c.options.currentClass).removeClass(c.options.currentClass).find("span."+c.options.currentInfoClass).remove(),s(this).blur(),s(a).find(c.options.tabbody+":visible").hide(),s(a).find(c.options.tabbody).eq(t)[c.options.fx](c.options.fxspeed),s(this)[c.options.currentInfoPosition]('<span class="'+c.options.currentInfoClass+'">'+c.options.currentInfoText+"</span>").parent().addClass(c.options.currentClass),s(s(this).attr("href")).focus().keyup(function(i){n[i.keyCode]&&(c.showAccessibleTab(t+n[i.keyCode]),s(this).unbind("keyup"))})}),s(this).focus(function(){s(document).keyup(function(s){n[s.keyCode]&&c.showAccessibleTab(t+n[s.keyCode])})}),s(this).blur(function(){s(document).unbind("keyup")})}),c.options.saveState&&s.cookie){var f=s.cookie("accessibletab_"+a.attr("id")+"_active");t(s.cookie("accessibletab_"+a.attr("id")+"_active")),null!==f&&c.showAccessibleTab(f,a.attr("id"))}if(c.options.autoAnchor&&window.location.hash){var h=s("."+c.options.tabsListClass).find(window.location.hash);h.size()&&h.click()}if(c.options.pagination){var u='<ul class="pagination">';u+='    <li class="previous"><a href="#{previousAnchor}"><span>{previousHeadline}</span></a></li>',u+='    <li class="next"><a href="#{nextAnchor}"><span>{nextHeadline}</span></a></li>',u+="</ul>";var v=s(a).find(".tabbody"),C=v.size();v.each(function(t){s(this).append(u);var i=t+1;i>=C&&(i=0);var n=t-1;0>n&&(n=C-1);var e=s(this).find(".pagination"),o=e.find(".previous");o.find("span").text(s("#"+d[n]).text()),o.find("a").attr("href","#"+d[n]).click(function(t){t.preventDefault(),s(a).find(".tabs-list a").eq(n).click()});var c=e.find(".next");c.find("span").text(s("#"+d[i]).text()),c.find("a").attr("href","#"+d[i]).click(function(t){t.preventDefault(),s(a).find(".tabs-list a").eq(i).click()})})}})},showAccessibleTab:function(i,a){t("showAccessibleTab");var n=this;if(!a)return this.each(function(){var t=s(this);t.trigger("showTab.accessibleTabs");var a=t.find("ul."+n.options.tabsListClass+">li>a");t.trigger("showTab.accessibleTabs",[a.eq(i)]),a.eq(i).click()});var e=s("#"+a),o=e.find("ul."+n.options.tabsListClass+">li>a");e.trigger("showTab.accessibleTabs",[o.eq(i)]),o.eq(i).click()},showAccessibleTabSelector:function(i){t("showAccessibleTabSelector");var a=s(i);a&&("a"==a.get(0).nodeName.toLowerCase()?a.click():t("the selector of a showAccessibleTabSelector() call needs to point to a tabs headline!"))}})})(jQuery);